<div class="devices">
    <form class="devices-settings" [formGroup]="settingsForm">
        <input type="text" class="devices-search" formControlName="searchInput">

    </form>
    <div class="devices-update-time">
        {{ elapsedUpdateSeconds | secondsRound : 10 }}
    </div>
    <div class="devices-controls">
        <button (click)="loadMoreDevices()">Load more</button>
        <button (click)="refreshDeviceElements()">Update</button>
    </div>
    
    <div class="devices-list">
        <app-device-element 
            *ngFor="let device of devices | deviceFilter : searchCriteria" 
            #device
            class="devices-element" 
            (clickEvent)="selectDevice($event)"
            [deviceInfo]="device"
            [ngClass]="{
                'enabled': devicesState.get(device.id)?.status === statusTypes.enabled,
                'disabled': devicesState.get(device.id)?.status === statusTypes.disabled,
                'blocked': devicesState.get(device.id)?.status === statusTypes.blocked,
                'sleep': devicesState.get(device.id)?.status === statusTypes.sleep
            }" >
        </app-device-element>
    </div>
</div>
